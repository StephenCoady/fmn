<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FedMSG Notifications Development Guide &#8212; FMN 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FMN Architecture" href="architecture.html" />
    <link rel="prev" title="FedMSG Notifications" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="fedmsg-notifications-development-guide">
<h1>FedMSG Notifications Development Guide<a class="headerlink" href="#fedmsg-notifications-development-guide" title="Permalink to this headline">¶</a></h1>
<p>FedMSG Notifications welcomes contributions! Our issue tracker is located on
<a class="reference external" href="https://github.com/fedora-infra/fmn/issues">GitHub</a>.</p>
<p>This repository contains the FMN library. The follow repositories contain
packages that interact with FMN:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fedora-infra/fmn.web">fmn.web</a></li>
<li><a class="reference external" href="https://github.com/fedora-infra/fmn.sse">fmn.sse</a></li>
</ul>
<p>It is recommended that you check out all these repositories inside the
<a class="reference external" href="https://github.com/fedora-infra/fmn/">fmn</a> repository that contains the
Vagrantfile.</p>
<div class="section" id="contribution-guidelines">
<h2>Contribution Guidelines<a class="headerlink" href="#contribution-guidelines" title="Permalink to this headline">¶</a></h2>
<p>When you make a pull request, a Fedora Infrastructure team member will review your
code. Please make sure you follow the guidelines below:</p>
<div class="section" id="code-style">
<h3>Code style<a class="headerlink" href="#code-style" title="Permalink to this headline">¶</a></h3>
<p>We follow the <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8</a> style guide for Python.
The test suite includes a test that enforces the required style, so all you need to do is
run the tests to ensure your code follows the style. If the unit test passes, you are
good to go!</p>
</div>
<div class="section" id="unit-tests">
<h3>Unit tests<a class="headerlink" href="#unit-tests" title="Permalink to this headline">¶</a></h3>
<p>All unit tests must pass. All new code should have 100% test coverage.
Any bugfix should be accompanied by one or more unit tests to demonstrate the fix.
If you are unsure how to write unit tests for your code, we will be happy to help
you during the code review process.</p>
<p>You can run the unit tests by running <code class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">unittest</span> <span class="pre">discover</span></code> in the root
of the repository.</p>
</div>
</div>
<div class="section" id="development-environment">
<h2>Development environment<a class="headerlink" href="#development-environment" title="Permalink to this headline">¶</a></h2>
<p>The development environment is set up using <a class="reference external" href="https://www.ansible.com/">Ansible</a>. You can use
this to set up a development enviroment on any host, but only the Ansible playbook on hosts you
are willing to reprovision since it expects to own the host. It does things like write to
<code class="docutils literal"><span class="pre">~/.bashrc</span></code> and <code class="docutils literal"><span class="pre">/etc/motd</span></code>.</p>
<p>You are also  welcome to examine the Ansible playbook and set up your own development
environment however you see fit</p>
<div class="section" id="vagrant">
<h3>Vagrant<a class="headerlink" href="#vagrant" title="Permalink to this headline">¶</a></h3>
<p>The best way to set up a development enviroment is to use <a class="reference external" href="https://vagrantup.com/">Vagrant</a>.
Vagrant provisions a new virtual machine and then runs the Ansible playbook on it automatically.
To get started, install Vagrant:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sudo dnf install vagrant libvirt vagrant-libvirt vagrant-sshfs ansible
</pre></div>
</div>
<p>Next, clone the repository and configure your Vagrantfile:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git clone https://github.com/fedora-infra/fmn.git
$ cd fmn
$ git clone https://github.com/fedora-infra/fmn.web.git
$ git clone https://github.com/fedora-infra/fmn.sse.git
$ cp Vagrantfile.example Vagrantfile
$ vagrant up
$ vagrant reload
$ vagrant ssh
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Before you can start the services, you must populate ~/.fedmsg.d/fas_credentials.py with
your Fedora Account System credentials.</p>
</div>
<p>You now have a functional development environment. The message of the day for the virtual machine
has some helpful tips, but the FMN service can be started in the virtual machine with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ fstart
</pre></div>
</div>
<p>Log output is viewable with <code class="docutils literal"><span class="pre">journalctl</span></code> and you can navigate to <a class="reference external" href="http://localhost:5000/">http://localhost:5000/</a> to
view the web user interface.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">FedMSG Notifications Development Guide</a><ul>
<li><a class="reference internal" href="#contribution-guidelines">Contribution Guidelines</a><ul>
<li><a class="reference internal" href="#code-style">Code style</a></li>
<li><a class="reference internal" href="#unit-tests">Unit tests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#development-environment">Development environment</a><ul>
<li><a class="reference internal" href="#vagrant">Vagrant</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">FedMSG Notifications</a></li>
      <li>Next: <a href="architecture.html" title="next chapter">FMN Architecture</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/contributing.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Red Hat, Inc. and others.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/contributing.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>